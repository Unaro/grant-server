# Основные модули проекта GrantServer

В системе выделены ключевые функциональные блоки, каждый реализует строго определённую бизнес-логику конкурса грантов.

***

## 1. Модуль участников (Participants Module)

**Ответственность:**
- Регистрация фирм/участников
- DAO/DTO: `ParticipantDAO`, `ParticipantRegisterDTO`, `ParticipantDTO`
- **Безопасность:** Пароли не возвращаются в API.

***

## 2. Модуль экспертов (Experts Module)

**Ответственность:**
- Регистрация экспертов, указание компетенций
- DAO/DTO: `ExpertDAO`, `ExpertRegisterDTO`, `ExpertDTO`

***

## 3. Модуль заявок (Grant Applications Module)

**Ответственность:**
- Подача заявок фирмами-участниками
- Получение списка всех заявок
- DAO/DTO: `GrantApplicationDAO`, `GrantApplicationDTO`
- **Связи:** Заявка привязывается к `ownerId` из токена участника.

***

## 4. Модуль оценок (Evaluations Module)

**Ответственность:**
- Оценка заявок экспертами, изменение и удаление оценок
- DAO/DTO: `EvaluationDAO`, `EvaluationDTO`
- **Связи:** Оценка привязывается к `expertId` из токена эксперта.

***

## 5. Модуль распределения фонда (Grant Fund & Calculation Module)

**Ответственность:**
- Реализация бизнес-алгоритма ранжирования (Strategy Pattern)
- Распределение бюджета по жадному алгоритму
- DTO: `GrantFundRequestDTO` (поддержка дробного порога `threshold`)

***

## 6. Модуль аутентификации и сессий (Auth & Session Module)

**Ответственность:**
- Генерация токенов (UUID) при успешном входе.
- Хранение активных сессий в памяти (`SessionManager` Singleton).
- **Валидация:** Проверка заголовка `Authorization: Bearer <token>` в Handler-слое перед выполнением бизнес-логики.

***

## 7. Общие сервисы (Common Services Module)

**Ответственность:**
- **ServiceRegistry:** Хранение и внедрение зависимостей (DI).
- **JsonUtils:** Сериализация и десериализация JSON (Reflection API).
- Глобальная обработка ошибок в HTTP Handler'ах.