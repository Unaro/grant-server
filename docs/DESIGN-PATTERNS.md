# Используемые паттерны проектирования в GrantServer

В проекте применяются современные паттерны, помогающие строить масштабируемую, гибкую и прозрачную архитектуру серверного приложения для грантового конкурса.

## Структурные паттерны

### 1. **DAO (Data Access Object)**

**Где используется:** Для каждого бизнес-модуля — `ParticipantDAO`, `ExpertDAO`, `GrantApplicationDAO`, `EvaluationDAO`.
**Зачем:**
- Инкапсулирует всю работу с хранилищем (In-Memory Map).
- Позволяет менять способ хранения (например, на PostgreSQL) без изменения бизнес-логики.

### 2. **DTO (Data Transfer Object)**

**Где используется:** В слоях запроса/ответа API.
**Зачем:**
- Безопасная сериализация (скрываем пароли).
- Разделение бизнес-сущностей (Entity) и внешнего контракта API.
- Упрощение структуры JSON (плоские объекты вместо вложенных связей).

### 3. **Mapper**

**Где используется:** Внутри сервисов (`ServiceImpl`) при методах `create` или `register`.
**Зачем:**
- Преобразование входящих DTO в Entity для сохранения.
- Преобразование Entity в DTO для ответа клиенту.

***

## Порождающие паттерны

### 4. **Factory (Ручная реализация)**

**Где используется:** Метод `initializeContext` в `Main.java`.
**Зачем:**
- Централизованное создание и связывание компонентов (Wiring).
- Реализация Dependency Injection без использования фреймворков.

### 5. **Singleton**

**Где используется:** 1. `ServiceRegistry` — реестр зависимостей.
2. `SessionManager` — хранилище активных сессий пользователей.
**Зачем:**
- Гарантирует единственный экземпляр глобальных сервисов.
- Предоставляет единую точку доступа к состоянию системы из любой части кода.

***

## Поведенческие паттерны

### 6. **Strategy**

**Где используется:** В модуле `GrantFundService` (`RankingStrategy`).
**Зачем:**
- Выносит алгоритм ранжирования заявок (по баллу и цене) в отдельный класс.
- Позволяет легко заменить логику выбора победителей, не трогая основной сервис.

***

## Примеры соответствия паттерн ↔ функция

| Паттерн | Где применяется | Для чего |
| :-- | :-- | :-- |
| DAO | Все CRUD-операции | Изоляция работы с данными |
| DTO | Любой обмен данными | Формальный API контракт |
| Factory | `Main.java` | Инициализация и DI |
| Singleton | `ServiceRegistry`, `SessionManager` | Глобальный доступ |
| Strategy | `GrantFundService` | Смена алгоритма ранжирования |